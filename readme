# ğŸ¯ Backend Developer Test â€“ FastAPI

This project implements the **Backend Developer Test** using **FastAPI + PostgreSQL + Alembic + Redis**.  
It demonstrates authentication, role-based access, database modeling, CRUD APIs, caching, and background jobs.

---

## ğŸš€ Features
- âœ… JWT-based user authentication  
- âœ… Role-based access (Admin, Student, Teacher)  
- âœ… PostgreSQL with SQLAlchemy ORM + Alembic migrations  
- âœ… CRUD APIs for Students & Teachers  
- âœ… Student â†” Teacher enrollments (many-to-many)  
- âœ… Redis caching for student list (30 seconds)  
- âœ… Background task to simulate email on new enrollment  
- âœ… Environment-based configuration with `.env`  

---

## ğŸ›  Setup Instructions

### 1. Clone Repo
```bash
git clone https://github.com/<your-username>/backend-test-fastapi.git
cd backend-test-fastapi
2. Create Virtual Environment
bash
Copy
Edit
python -m venv venv
source venv/bin/activate   # macOS/Linux
venv\Scripts\activate      # Windows
3. Install Dependencies
bash
Copy
Edit
pip install -r requirements.txt
4. Configure Environment
Copy .env.example â†’ .env

Update values (DB URL, secret key, etc.)

5. Setup Database
Run Alembic migrations:

bash
Copy
Edit
alembic upgrade head
6. Start Redis
bash
Copy
Edit
# Linux/Mac
redis-server

# Windows (Docker)
docker run -d -p 6379:6379 redis
7. Run App
bash
Copy
Edit
uvicorn app.main:app --reload
App runs at ğŸ‘‰ http://127.0.0.1:8000

Swagger docs ğŸ‘‰ http://127.0.0.1:8000/docs

ğŸ“– API Testing Guide
ğŸ”‘ Authentication
POST /auth/register â†’ Register new user (Admin/Student/Teacher)

POST /auth/login â†’ Login, get JWT token

ğŸ‘‰ Use the token with Swagger Authorize button (type: Bearer).

ğŸ‘©â€ğŸ“ Students
POST /students/ â†’ Create student

GET /students/ â†’ List students (cached 30s in Redis)

GET /students/{id} â†’ Get student by ID

PUT /students/{id} â†’ Update student

DELETE /students/{id} â†’ Delete student

ğŸ‘¨â€ğŸ« Teachers
POST /teachers/ â†’ Create teacher

GET /teachers/ â†’ List teachers

GET /teachers/{id} â†’ Get teacher by ID

PUT /teachers/{id} â†’ Update teacher

DELETE /teachers/{id} â†’ Delete teacher

ğŸ”— Enrollments
POST /enrollments/ â†’ Assign student â†” teacher (triggers email background task)

GET /enrollments/teacher/{id} â†’ List students of a teacher

GET /enrollments/student/{id} â†’ List teachers of a student

âš™ï¸ Environment Variables
.env.example file:

ini
Copy
Edit
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/backend_test
SECRET_KEY=replace_me_with_a_long_random_string
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
REDIS_URL=redis://localhost:6379/0
âš ï¸ Do NOT upload .env to GitHub.
Instead, only include .env.example.

âš¡ Redis Configuration
Redis must be running for student list caching.

Default URL: redis://localhost:6379/0

On enrollment, a background task simulates sending an email (logged in console).

ğŸ“¦ Bonus
ğŸ” Secure password hashing using bcrypt

ğŸ”„ Cache invalidation on student updates/deletes

ğŸ³ Can be dockerized (optional)

ğŸ§¹ Clean modular code structure

â— Submission Guidelines
Push code to a public GitHub repo.

Do NOT commit .env or venv/.

Include:

Codebase (app/, alembic/, etc.)

requirements.txt

.env.example

README.md

ğŸ‘‰ Submit only the GitHub repo link to recruiters.

yaml
Copy
Edit

---

âœ… Thatâ€™s your **final README.md**.  

Do you also want me to give you the **exact `requirements.txt` content** to include alongside this,
